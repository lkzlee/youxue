
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - MessengerJS</title>
    <script src="js/messenger.js"></script>

</head>
<body>
<div id="frm_div">
    <form action="http://101.200.148.203:8000/youxue-img-0.0.1-SNAPSHOT//img/uploadImg.html" id="frm" method="post" enctype="multipart/form-data">
        <input type="file" name="uploadFile"/>
        <input type="button" value="提交" onclick="tijiao()">
    </form>
</div>
<iframe id="iframe1" src="iframe_child.html" width="550px" height="300px"></iframe>
<script>
    var messenger = new Messenger('parent', 'MessengerDemo');
    iframe1 = document.getElementById('iframe1'),

            messenger.listen(function (msg) {
                var newline = '\n';
                var text = document.createTextNode(msg + newline);
                document.getElementById('output').appendChild(text);
            });

    messenger.addTarget(iframe1.contentWindow, 'iframe1');


    function sendMessage(name) {
        var msg = document.getElementById('frm_div').innerHTML;
        messenger.targets[name].send(msg);
    }
    function tijiao(){
        sendMessage('iframe1');
    }
    window.onload=function(){
    }
</script>
</body>
</html>